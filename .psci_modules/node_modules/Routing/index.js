"use strict";
var Data_Maybe = require("../Data.Maybe/index.js");
var JSURI = require("../JSURI/index.js");
var Routing_Match = require("../Routing.Match/index.js");
var Routing_Parser = require("../Routing.Parser/index.js");

// | Runs a `Match` parser given a custom String decoder.
var matchWith = function (decoder) {
    return function (matcher) {
        var $0 = Routing_Match.runMatch(matcher);
        var $1 = Routing_Parser.parse(decoder);
        return function ($2) {
            return $0($1($2));
        };
    };
};

// | Runs a `Match` parser.
var match = matchWith((function () {
    var $3 = Data_Maybe.fromJust();
    return function ($4) {
        return $3(JSURI["decodeURIComponent"]($4));
    };
})());
module.exports = {
    match: match,
    matchWith: matchWith
};
